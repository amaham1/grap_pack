<div class="content-header">
    <h2>외부 API 데이터 동기화</h2>
    <p class="text-muted">제주도 공공 API에서 최신 데이터를 가져옵니다.</p>
</div>

<!-- 동기화 안내 -->
<div class="admin-alert alert-info mb-4">
    <h4>자동 동기화 스케줄</h4>
    <p class="mb-0">매일 02:05, 08:05, 14:05, 20:05에 자동으로 전체 데이터가 동기화됩니다.</p>
</div>

<!-- 동기화 버튼 그리드 -->
<div class="row">
    <!-- 축제/행사 -->
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="bi bi-calendar-event" style="font-size: 3rem; color: #ff6b6b;"></i>
                </div>
                <h5 class="card-title">축제/행사</h5>
                <p class="card-text text-muted small">제주도 축제 및 행사 정보</p>
                <form th:action="@{/admin/sync/festivals}" method="post" class="mt-3"
                      data-ajax="true"
                      data-success-message="축제/행사 데이터 동기화가 완료되었습니다.">
                    <button type="submit" class="admin-btn admin-btn-primary btn-block w-100">
                        <i class="bi bi-arrow-clockwise"></i> 동기화
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- 공연/전시 -->
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="bi bi-palette" style="font-size: 3rem; color: #a29bfe;"></i>
                </div>
                <h5 class="card-title">공연/전시</h5>
                <p class="card-text text-muted small">제주도 공연 및 전시회 정보</p>
                <form th:action="@{/admin/sync/exhibitions}" method="post" class="mt-3"
                      data-ajax="true"
                      data-success-message="공연/전시 데이터 동기화가 완료되었습니다.">
                    <button type="submit" class="admin-btn admin-btn-primary btn-block w-100">
                        <i class="bi bi-arrow-clockwise"></i> 동기화
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- 복지서비스 -->
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="bi bi-heart" style="font-size: 3rem; color: #74b9ff;"></i>
                </div>
                <h5 class="card-title">복지서비스</h5>
                <p class="card-text text-muted small">제주도 복지 서비스 정보</p>
                <form th:action="@{/admin/sync/welfare-services}" method="post" class="mt-3"
                      data-ajax="true"
                      data-success-message="복지서비스 데이터 동기화가 완료되었습니다.">
                    <button type="submit" class="admin-btn admin-btn-primary btn-block w-100">
                        <i class="bi bi-arrow-clockwise"></i> 동기화
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- 주유소 가격 -->
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="bi bi-fuel-pump" style="font-size: 3rem; color: #55efc4;"></i>
                </div>
                <h5 class="card-title">주유소 가격</h5>
                <p class="card-text text-muted small">제주도 주유소 가격 정보</p>
                <form th:action="@{/admin/sync/gas-prices}" method="post" class="mt-3"
                      data-ajax="true"
                      data-success-message="주유소 가격 데이터 동기화가 완료되었습니다.">
                    <button type="submit" class="admin-btn admin-btn-primary btn-block w-100">
                        <i class="bi bi-arrow-clockwise"></i> 동기화
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- 전체 동기화 버튼 -->
<div class="row mt-4">
    <div class="col-12">
        <div class="card bg-dark text-white">
            <div class="card-body text-center py-4">
                <h4 class="card-title mb-3">전체 데이터 동기화</h4>
                <p class="card-text mb-4">모든 외부 API 데이터를 한 번에 동기화합니다. (시간이 다소 소요될 수 있습니다)</p>
                <form th:action="@{/admin/sync/all}" method="post"
                      data-ajax="true"
                      data-disable-all-buttons="true"
                      data-confirm="전체 데이터 동기화를 시작하시겠습니까? 시간이 다소 소요될 수 있습니다."
                      data-success-message="전체 데이터 동기화가 완료되었습니다.">
                    <button type="submit" class="admin-btn admin-btn-warning btn-lg">
                        <i class="bi bi-arrow-repeat"></i> 전체 동기화 실행
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- API 정보 -->
<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">외부 API 정보</h5>
            </div>
            <div class="card-body">
                <table class="table table-sm">
                    <thead>
                        <tr>
                            <th>데이터</th>
                            <th>API URL</th>
                            <th>제공기관</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>축제/행사</td>
                            <td><code>https://www.jeju.go.kr/api/jejutoseoul/festival/</code></td>
                            <td>제주특별자치도</td>
                        </tr>
                        <tr>
                            <td>공연/전시</td>
                            <td><code>http://www.jeju.go.kr/rest/JejuExhibitionService/getJejucultureExhibitionList</code></td>
                            <td>제주특별자치도</td>
                        </tr>
                        <tr>
                            <td>복지서비스</td>
                            <td><code>http://www.jeju.go.kr/rest/JejuWelfareServiceInfo/getJejuWelfareServiceInfoList</code></td>
                            <td>제주특별자치도</td>
                        </tr>
                        <tr>
                            <td>주유소 가격</td>
                            <td><code>http://api.jejuits.go.kr/api/infoGasPriceList</code></td>
                            <td>제주특별자치도</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        transition: transform 0.2s;
    }
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    .content-header {
        margin-bottom: 2rem;
    }
    .bi {
        vertical-align: middle;
    }
</style>

