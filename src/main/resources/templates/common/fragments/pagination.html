<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- 관리자 페이지네이션 (페이지 크기 선택기 포함) -->
<div th:fragment="admin-pagination(baseUrl, pageInfo, currentPage, totalPages, totalCount, keyword, size)">

    <!-- 페이지 크기 선택기 -->
    <div class="page-size-selector" style="margin-bottom: 10px; text-align: right;">
        <select th:attr="data-base-url=${baseUrl}"
                onchange="location.href=this.getAttribute('data-base-url') + '?size=' + this.value + '&keyword=' + encodeURIComponent(document.querySelector('input[name=keyword]')?.value || '')"
                class="form-control" style="width: auto; display: inline-block;">
            <option value="10" th:selected="${size == 10}">10개씩 보기</option>
            <option value="50" th:selected="${size == 50}">50개씩 보기</option>
            <option value="100" th:selected="${size == 100}">100개씩 보기</option>
            <option value="200" th:selected="${size == 200}">200개씩 보기</option>
        </select>
    </div>

    <!-- 페이지 버튼 -->
    <div th:if="${totalPages > 0}" class="pagination">

        <!-- 이전 버튼 -->
        <a th:if="${pageInfo.hasPrevious}"
           th:href="@{${baseUrl}(page=${currentPage - 1}, keyword=${keyword}, size=${size})}"
           class="btn btn-sm">이전</a>

        <!-- 페이지 번호 -->
        <span th:each="page : ${pageInfo.pages}">
            <!-- 생략 부호 (...) -->
            <span th:if="${page.isEllipsis}" class="pagination-ellipsis">...</span>

            <!-- 페이지 번호 버튼 -->
            <a th:if="${!page.isEllipsis}"
               th:href="@{${baseUrl}(page=${page.number}, keyword=${keyword}, size=${size})}"
               th:text="${page.number}"
               th:class="|btn btn-sm ${page.isActive ? 'active' : ''}|"></a>
        </span>

        <!-- 다음 버튼 -->
        <a th:if="${pageInfo.hasNext}"
           th:href="@{${baseUrl}(page=${currentPage + 1}, keyword=${keyword}, size=${size})}"
           class="btn btn-sm">다음</a>
    </div>

    <!-- 페이지 정보 -->
    <div class="pagination-info">
        전체 <span th:text="${totalCount}"></span>개 (
        <span th:text="${currentPage}"></span> /
        <span th:text="${totalPages}"></span> 페이지)
    </div>

</div>

</html>
